@startuml
!theme plain

skinparam packageStyle rectangle
skinparam package {
  BackgroundColor White
  BorderColor Black
  BorderThickness 2
  FontSize 12
}

skinparam arrow {
  Color Black
  Thickness 1
}

package "webapp" {
  
  package "frontend" <<Package>> {
    package "components" <<Package>> as components
    package "pages" <<Package>> as pages
  }
  
  package "backend" <<Package>> {
    package "routes" <<Package>> as routes
    package "controllers" <<Package>> as controllers
    package "models" <<Package>> as models
  }
  
  package "shared" <<Package>> {
    package "auth" <<Package>> as auth
    package "database" <<Package>> as database
    package "config" <<Package>> as config
  }
}

' 依存関係
pages ..> components : レンダリング
pages ..> routes : リクエスト

routes ..> controllers : ルーティング
routes ..> auth : 認証する

controllers ..> models : 使用する
controllers ..> auth : 認可する

models ..> database : 永続化

database ..> config : 設定する
auth ..> config : 読み込む

@enduml
